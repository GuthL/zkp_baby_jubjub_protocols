import "./baby_jubjub_curve_parameters.code" as params

def main(field u, field v) -> (field):
  // See appendix 3.3.1 of Zcash protocol specification:
  // https://github.com/zcash/zips/blob/master/protocol/protocol.pdf
  d, a, gu, gv, zerou, zerov = params()

  field uu = u * u
  field vv = v * v
  field uuvv = uu * vv
  a * uu + vv == 1 + d * uuvv
  return 1